<!DOCTYPE html> 
<html> 
	<head> 
	<title>My Page</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />
	<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
	<script type="text/javascript" src="javascript/0.0.1/sherpa.js"></script>
	<script>
		
	var allStocks;
	var selectedStock;
	
    <!-- call Sherpa get Quotes Endpoint 
	$( document ).delegate("#main", "pageinit", function() {
		$.sherpa.call({endpoint:'StockService', method:'quotes'}, listStocks);
		
		// Refresh button clicked
	 	$('#refresh').bind('click',function() {
	 		$('#stocklist').empty();
	 		$.sherpa.call({endpoint:'StockService', method:'quotes'}, listStocks);
	 	});
	 	
		// Refresh button clicked
	 	$('#delete').click(function() {
	 		$('#'+selectedStock.ticker).remove();
	 		$('ul').listview('refresh');
	 	});
	 		
		
	});
    
    <!-- call Sherpa get a Quote Endpoint 
	$( '#detail' ).live("pageshow", function() {
		
		var f = $('#detailForm');
		f.empty();
		f.append('<h1>'+selectedStock.ticker+'</h1>');
		f.append('</p>');
		f.append('<label>'+selectedStock.name+'</label>');
		f.append('</p>')
		f.append('<label>Price:</label>&nbsp;'+'<label><b>$'+selectedStock.price+'</b></label>');
		f.append('</p>')
		f.append('<label>PE:</label>&nbsp;'+'<label><b>'+selectedStock.pe+'</b></label>');
		f.append('</p>')
		f.append('<label>Dividend Yield:</label>&nbsp;'+'<label><b>'+selectedStock.dividendYield+'</b></label>');
		f.append('</p>')
		f.append('<label>Trade Date:</label>&nbsp;'+'<label><b>'+selectedStock.tradeDate+'</b></label>');

	});
    
    <!-- sets selected stock -->
    function selected(index) {
    	selectedStock = allStocks[index];   	
    }
    
		function listStocks(stocks) {	
			allStocks = stocks;
			for(var i=0, len=stocks.length; i < len; i++){	 	
			 	$('ul').append($('<li/>', {    //here appendin `<li>`
			 	    'data-role': "list-divider"
			 	}).append($('<a/>', {    //here appending `<a>` into `<li>`
			 	    'href': '#detail',
			 	    'id' : stocks[i].ticker,
			 	    'data-transition': 'slide',
			 	    'text': stocks[i].ticker,
			 	    'onClick' : 'selected('+i+');'
	
			 	})));

			 	$('ul').listview('refresh');	
			 	
			}	
			
		 
				
		}	
		
	 $.get('data.html',function(data){
				$('#something').append(data).trigger('create');
				},'html');
  
		
	</script>

	<script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>
	


</head> 
<body> 

<div id="main" data-role="page">

	<div data-role="header">
		<h1>Sherpa Stock Quotes</h1>
	</div><!-- /header -->

	<div data-role="content">	
		
			<ul id="stocklist" data-role="listview" data-inset="true" data-filter="false">
			
		</ul>
		
				
	</div><!-- /content -->
				

	<div data-role="footer" class="ui-bar">
	<a href="index.html" data-role="button" data-icon="plus">Add</a>
	<a id="delete" href="" data-role="button" data-icon="delete">Delete</a>
	<a id="refresh" href="" data-role="button" data-icon="refresh">Refresh</a>
	</div>
	
</div><!-- /page -->


<div id="detail" data-role="page">

	<div data-role="header">
		<h1>Stock Details</h1>
		<a href="#main" data-role="button" data-icon="arrow-l" data-theme="d">Back</a>
	</div><!-- /header -->

	<div data-role="content">	
		<div id="detailForm">
		
		</div>
	
				
	</div><!-- /content -->
				
	
</div><!-- /page -->




</body>
</html>